<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cultivos - Gestor de Fincas</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Login Screen -->
  <div id="login-screen" class="screen active">
    <div class="auth-container">
      <div class="auth-card">
        <div class="auth-header">
          <div class="logo">ðŸŒ¾</div>
          <h1>Cultivos</h1>
          <p class="subtitle">Gestor de Fincas Inteligente</p>
        </div>
        <form id="login-form" class="auth-form">
          <div class="form-group">
            <label for="login-email">Email</label>
            <input id="login-email" type="email" placeholder="tu@email.com" required />
          </div>
          <div class="form-group">
            <label for="login-password">ContraseÃ±a</label>
            <input id="login-password" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required />
          </div>
          <button type="submit" class="btn btn-primary btn-block">Iniciar SesiÃ³n</button>
          <p id="login-error" class="error-msg" style="display:none"></p>
        </form>
        <div class="auth-footer">
          <p>Â¿No tienes cuenta? <button type="button" id="goto-register-btn" class="link-btn">Registrarse aquÃ­</button></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Register Screen -->
  <div id="register-screen" class="screen">
    <div class="auth-container">
      <div class="auth-card">
        <div class="auth-header">
          <div class="logo">ðŸŒ¾</div>
          <h1>Crear Cuenta</h1>
          <p class="subtitle">Ãšnete a nuestra comunidad</p>
        </div>
        <form id="register-form" class="auth-form">
          <div class="form-group">
            <label for="reg-nombre">Nombre Completo</label>
            <input id="reg-nombre" type="text" placeholder="Tu nombre" required />
          </div>
          <div class="form-group">
            <label for="reg-email">Email</label>
            <input id="reg-email" type="email" placeholder="tu@email.com" required />
          </div>
          <div class="form-group">
            <label for="reg-password">ContraseÃ±a</label>
            <input id="reg-password" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required />
          </div>
          <button type="submit" class="btn btn-primary btn-block">Crear Cuenta</button>
          <p id="register-error" class="error-msg" style="display:none"></p>
          <p id="register-success" class="success-msg" style="display:none"></p>
        </form>
        <div class="auth-footer">
          <p>Â¿Ya tienes cuenta? <button type="button" id="goto-login-btn" class="link-btn">Inicia sesiÃ³n</button></p>
        </div>
      </div>
    </div>
  </div>

  <!-- App Screen -->
  <div id="app-screen" class="screen">
    <nav class="navbar">
      <div class="navbar-brand">
        <span class="logo-small">ðŸŒ¾</span>
        <span class="brand-text">Cultivos</span>
      </div>
      <div class="navbar-user">
        <span id="user-name-display">Usuario</span>
        <button id="logout-btn" class="btn btn-outline">Cerrar sesiÃ³n</button>
      </div>
    </nav>

    <div class="app-container">
      <div class="sidebar">
        <button id="btn-list-cultivos" class="sidebar-btn active">
          <span class="icon">ðŸ“‹</span> Mis Cultivos
        </button>
        <button id="btn-create-cultivo" class="sidebar-btn">
          <span class="icon">âž•</span> Nuevo Cultivo
        </button>
        <button id="btn-perfil" class="sidebar-btn">
          <span class="icon">ðŸ‘¤</span> Mi Perfil
        </button>
      </div>

      <main class="main-content">
        <!-- Cultivos List View -->
        <section id="cultivos-list-view" class="view active">
          <div class="view-header">
            <h2>Mis Cultivos</h2>
            <button id="refresh-btn" class="btn btn-small">ðŸ”„ Actualizar</button>
          </div>
          <div id="cultivos-list" class="cultivos-grid">
            <!-- Lista de cultivos cargada por JS -->
          </div>
        </section>

        <!-- Create Cultivo View -->
        <section id="cultivo-create-view" class="view">
          <div class="view-header">
            <h2>Crear Nuevo Cultivo</h2>
          </div>
          <div class="form-card">
            <form id="create-cultivo-form" class="cultivo-form">
              <div class="form-group">
                <label for="cultivo-nombre">Nombre del Cultivo</label>
                <input id="cultivo-nombre" type="text" placeholder="Ej: MaÃ­z, Trigo, CafÃ©..." required />
              </div>
              <div class="form-group">
                <label for="cultivo-tipo">Tipo</label>
                <input id="cultivo-tipo" type="text" placeholder="Ej: Cereal, Leguminosa..." required />
              </div>
              <div class="form-group">
                <label for="cultivo-descripcion">DescripciÃ³n</label>
                <textarea id="cultivo-descripcion" placeholder="Detalles sobre el cultivo..." rows="4"></textarea>
              </div>
              <button type="submit" class="btn btn-primary">Crear Cultivo</button>
              <p id="create-cultivo-error" class="error-msg" style="display:none"></p>
              <p id="create-cultivo-success" class="success-msg" style="display:none"></p>
            </form>
          </div>
        </section>

        <!-- Edit Cultivo View -->
        <section id="cultivo-edit-view" class="view">
          <div class="view-header">
            <h2>Editar Cultivo</h2>
          </div>
          <div class="form-card">
            <form id="edit-cultivo-form" class="cultivo-form">
              <div class="form-group">
                <label for="edit-cultivo-nombre">Nombre del Cultivo</label>
                <input id="edit-cultivo-nombre" type="text" required />
              </div>
              <div class="form-group">
                <label for="edit-cultivo-tipo">Tipo</label>
                <input id="edit-cultivo-tipo" type="text" required />
              </div>
              <div class="form-group">
                <label for="edit-cultivo-descripcion">DescripciÃ³n</label>
                <textarea id="edit-cultivo-descripcion" rows="4"></textarea>
              </div>
              <div class="form-actions">
                <button type="submit" class="btn btn-primary">Guardar Cambios</button>
                <button type="button" id="cancel-edit-btn" class="btn btn-outline">Cancelar</button>
                <button type="button" id="delete-cultivo-btn" class="btn btn-danger">Eliminar Cultivo</button>
              </div>
              <p id="edit-cultivo-error" class="error-msg" style="display:none"></p>
              <p id="edit-cultivo-success" class="success-msg" style="display:none"></p>
            </form>
          </div>
        </section>

        <!-- Perfil View -->
        <section id="perfil-view" class="view">
          <div class="view-header">
            <h2>Mi Perfil</h2>
          </div>
          <div class="form-card">
            <div id="perfil-info">
              <div class="info-group">
                <label>Email</label>
                <p id="perfil-email"></p>
              </div>
              <div class="info-group">
                <label>Nombre</label>
                <p id="perfil-nombre"></p>
              </div>
              <div class="info-group">
                <label>Rol</label>
                <p id="perfil-role"></p>
              </div>
              <div class="info-group">
                <label>Cultivos Registrados</label>
                <p id="perfil-cultivos-count">-</p>
              </div>
              <hr style="margin: 1.5rem 0;" />
              <div class="form-group">
                <label for="perfil-new-password">Cambiar ContraseÃ±a (opcional)</label>
                <input id="perfil-new-password" type="password" placeholder="Nueva contraseÃ±a" />
              </div>
              <button id="update-perfil-btn" class="btn btn-primary" style="width: 100%; margin-bottom: 1rem;">Actualizar Perfil</button>
              <button id="delete-account-btn" class="btn btn-danger" style="width: 100%;">Eliminar Cuenta</button>
              <p id="perfil-error" class="error-msg" style="display:none; margin-top: 1rem;"></p>
              <p id="perfil-success" class="success-msg" style="display:none; margin-top: 1rem;"></p>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>